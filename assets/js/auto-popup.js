(()=>{addEventListener("DOMContentLoaded",()=>{let e=document.createElement("aside");e.className="popup",e.style.display="none",e.style.opacity=0,document.body.appendChild(e);let p,i;function s(n,o){let t={left:0,top:0,position:n||"bottom"};switch(n){case"right":t.top=o.top+o.height/2,t.left=o.right;break;case"left":t.top=o.top+o.height/2,t.left=o.left;break;case"bottom":default:t.top=o.bottom,t.left=o.left+o.width/2;break}return t.top=o.bottom,t.left=o.left+o.width/2,t.position=="bottom"&&t.left<e.offsetWidth/2&&(t=s("right",o)),t.position=="bottom"&&t.left+e.offsetWidth/2>document.body.clientWidth&&(t=s("left",o)),t}function a(n){if(i&&clearTimeout(i),p===n.currentTarget)return;e.style.display=null,p=n.currentTarget;let o=p.getBoundingClientRect(),t=p.dataset.autoPopupPos||"bottom";e.innerHTML=p.dataset.autoPopup,e.dataset.autoPopupPos=t;let d=s(t,o);e.style.top=d.top+"px",e.style.left=d.left+"px",e.classList.remove("popup-bottom","popup-right","popup-left","popup-top"),e.classList.add("popup-"+d.position),setTimeout(function(){e.style.opacity=1})}function u(n=2500){return function(){i=setTimeout(function(){e.style.opacity=0,setTimeout(function(){e.style.display="none",i=void 0,p=void 0},500)},n)}}addEventListener("scroll",u(0));let f=document.querySelectorAll("[data-auto-popup]");for(let n of f)n.addEventListener("mouseover",a),n.addEventListener("focus",a),n.addEventListener("mouseout",u()),n.addEventListener("blur",u())});})();
